<!--
  ~ Copyright 2016 Studentmediene i Trondheim AS
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="container">
    <div class="col-md-6">
        <div class="panel panel-info">
            <div class="panel-heading">
                Nyheter <span class="pull-right">{{vm.news.length}}</span>
            </div>
            <table class="table table-borderless">
                <tbody ng-repeat="n in vm.news">
                    <tr ng-click="n.show = !n.show" class="interact active">
                        <td>{{n.title}}</td>
                        <td><span person-widget="n.author">{{n.author.name}}</span></td>
                        <td>{{n.date}}</td>
                        <td><button class="btn btn-success btn-xs">Rediger</button></td>
                        <td width="5%">
                            <i ng-show="!n.show" class="fa fa-arrow-circle-down"></i>
                            <i ng-show="n.show" class="fa fa-arrow-circle-up"></i>
                        </td>
                    </tr>
                    <tr ng-show="n.show">
                        <td>{{n.content}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-md-6">
        <div class="panel panel-success">
            <div class="panel-heading">
                <b>Ny</b>het
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label>Tittel</label>
                    <input type="text" class="form-control" ng-model="vm.new_news.title">
                </div>
                <div class="form-group">
                    <label>Tekst</label>
                    <textarea class="form-control" ng-model="vm.new_news.content"></textarea>
                </div>
                <button class="btn btn-success" ng-click="vm.saveNews()">Legg til</button>
            </div>
        </div>
    </div>
</div>
