<!--
  ~ Copyright 2014 Studentmediene i Trondheim AS
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div>

<h1 style="text-align: center"> Disposition for {{disposition.publicationNr}}-{{disposition.release_date}} </h1>
<div class="row">
    <div class="col-md-12">
        <table class="table-bordered" style="width: 100%" >
            <!--Top Row, Headers-->
            <tr>
                <th ng-repeat="header in ['Side ','Seksjon ','Artikler ','Notater ','Journalister ','Fotografer ','Status ','Fotostatus','Reklame']">{{header}}</th>
            </tr>
            <!--For every page in the disp-->
            <tbody ng-repeat="page in disposition.pages">
                <tr ng-repeat="article in page.articles" >
                    <!--Side-->
                    <td ng-if="$first" rowspan="{{page.articles.length}}" style="text-align: center">{{page.pageNr}}</td>
                    <!--Seksjon-->
                    <td ng-if="$first" rowspan="{{page.articles.length}}" style="text-align: center">{{page.section}}</td>
                    <!--Artikkel-->
                    <td ng-click="articleModal(page)" style="text-align: center">{{article.type}} : {{article.name}}</td>
                    <!--Notater-->
                    <td><textarea rows="2" style="border: none; height: 4em;"></textarea></td>
                    <!--Journalister-->
                    <td >
                        <table>
                            <tr ng-repeat="journalist in article.journalists">
                                <td >{{journalist.name}}</td>
                            </tr>
                        </table>
                    </td>
                    <!--Fotografer-->
                    <td>
                        <table>
                            <tr ng-repeat="photographer in article.photographers">
                                <td >{{photographer.name}}</td>
                            </tr>
                        </table>
                    </td>
                    <!--Status-->
                    <td style="text-align: center">{{article.status}}</td>
                    <!--Fotostatus-->
                    <td style="text-align: center">{{article.photoStatus}}</td>
                    <!--Reklame-->
                    <td style="text-align: center"><input type="checkbox" ng-model="article.advertisement"></td>

                </tr>
                <!--If there are no articles on the page-->
                <tr ng-if="page.articles == 0">
                    <!--Side-->
                    <td style="text-align: center">{{page.pageNr}}</td>
                    <!--Seksjon-->
                    <td style="text-align: center">{{page.section}}</td>
                    <!--Artikkel-->
                    <td ng-click="articleModal(page)" style="text-align: center"></td>
                    <!--Notater-->
                    <td></td>
                    <!--Journalister-->
                    <td ></td>
                    <!--Fotografer-->
                    <td></td>
                    <!--Status-->
                    <td style="text-align: center"></td>
                    <!--Fotostatus-->
                    <td style="text-align: center"></td>
                    <!--Reklame-->
                    <td style="text-align: center"></td>

                </tr>
            </tbody>
            <!--&lt;!&ndash;Page nr&ndash;&gt;-->
            <!--<td >{{page.pageNr}}</td>-->
            <!--&lt;!&ndash;Seksjon&ndash;&gt;-->
            <!--<td></td>-->
            <!--&lt;!&ndash;Artikler&ndash;&gt;-->
            <!--<td ng-click="addArticle(page)">-->
            <!--<table>-->
            <!--<tr ng-repeat="article in page.articles">-->
            <!--<td>{{article.type}}: {{article.name}}</td>-->
            <!--</tr>-->
            <!--</table>-->
            <!--</td>-->
            <!--&lt;!&ndash;Notater&ndash;&gt;-->
            <!--<td></td>-->
            <!--&lt;!&ndash;Journalister&ndash;&gt;-->
            <!--<td>-->
            <!--<table>-->
            <!--&lt;!&ndash;journalist in every page.articles.journalist&ndash;&gt;-->
            <!--<tr ng-repeat="journalist in getJournalists(page)">-->
            <!--<td>{{journalist.name}}</td>-->
            <!--</tr>-->
            <!--</table>-->
            <!--</td>-->
            <!--&lt;!&ndash;Fotografer&ndash;&gt;-->
            <!--<td></td>-->
            <!--&lt;!&ndash;Status&ndash;&gt;-->
            <!--<td></td>-->
            <!--&lt;!&ndash;Fotostatus&ndash;&gt;-->
            <!--<td></td>-->
            <!--&lt;!&ndash;Reklame&ndash;&gt;-->
            <!--<td></td>-->
            <!--</tbody>-->

            <!--<tr ng-repeat="article in page.articles">-->
            <!--<td rowspan="{{page.articles.size}}">{{page.pageNr}}</td>-->
            <!--</tr>-->

            <!--</div>-->
            <!--<tr ng-repeat="page in disposition.pages" rowspan="{{page.articles.size}}" >-->
            <!--<td >{{page.pageNr}}</td>-->
            <!--<td ng-repeat="article in page.articles">{{article.name}}</td>-->
            <!--</tr>-->
        </table>
    </div>
</div>

</div>